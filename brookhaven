-- [[ SPRAWDZANIE PLACE ID ]] --
local targetPlaceId = 4924922222

if game.PlaceId ~= targetPlaceId then
    warn("Banana Hub: To nie jest Brookhaven! Skrypt nie zosta≈Ç za≈Çadowany.")
    return 
end

-- [[ ≈ÅADOWANIE LUNY ]] --
local Luna = loadstring(game:HttpGet("https://raw.githubusercontent.com/Nebula-Softworks/Luna-Interface-Suite/refs/heads/master/source.lua", true))()

local Window = Luna:CreateWindow({
	Name = "Banana Hub üçå",
	Subtitle = "Brookhaven Edition",
	LogoID = "nil",
	LoadingEnabled = true,
	LoadingTitle = "Weryfikacja Net Logic...",
	LoadingSubtitle = "Brookhaven Wykryte!",

	ConfigSettings = {
		ConfigFolder = "BananaHubBrook"
	},

	KeySystem = false
})

-- [[ HOME TAB ]] --
Window:CreateHomeTab({
	SupportedExecutors = {"All"},
	DiscordInvite = "banana",
	Icon = 1
})

-- [[ ZMIENNE ]] --
local LP = game:GetService("Players").LocalPlayer
local RunService = game:GetService("RunService")
getgenv().DesyncActive = false
local FakeBody = nil

-- [[ ZAK≈ÅADKA GHOST MODE ]] --
local Tab = Window:CreateTab({
	Name = "Ghost Mode",
	Icon = "visibility_off",
	ImageSource = "Material",
	ShowTitle = true
})

Tab:CreateSection("Velocity Desync")

Tab:CreateToggle({
	Name = "Velocity Desync (Net Logic)",
	Description = "Twoja metoda na 'Invisible Walk'",
	CurrentValue = false,
	Callback = function(Value)
		getgenv().DesyncActive = Value
        
        if Value then
            -- 1. Czyszczenie skrypt√≥w (Twoja metoda)
            if LP.Character then
                for _, v in pairs(LP.Character:GetChildren()) do
                    if v:IsA("Script") and v.Name ~= "Health" and v.Name ~= "Sound" and v:FindFirstChild("LocalScript") then
                        v:Destroy()
                    end
                end
            end

            -- 2. Duch ESP
            if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
                LP.Character.Archivable = true
                FakeBody = LP.Character:Clone()
                FakeBody.Parent = workspace
                FakeBody:SetPrimaryPartCFrame(LP.Character.HumanoidRootPart.CFrame)
                for _, p in pairs(FakeBody:GetDescendants()) do
                    if p:IsA("BasePart") then p.Transparency = 0.5 p.CanCollide = false end
                    if p:IsA("LocalScript") or p:IsA("Script") then p:Destroy() end
                end
                local h = Instance.new("Highlight", FakeBody)
                h.FillColor = Color3.fromRGB(255, 255, 0)
            end

            -- 3. G≈Ç√≥wna pƒôtla
            task.spawn(function()
                while getgenv().DesyncActive do
                    local char = LP.Character
                    if char and char:FindFirstChild("HumanoidRootPart") then
                        local root = char.HumanoidRootPart
                        local CurrentVelocity = root.Velocity
                        
                        root.CFrame = root.CFrame * CFrame.Angles(0, math.rad(0.01), 0)
                        root.AssemblyLinearVelocity = Vector3.new(math.random(3000, 5000), math.random(3000, 5000), math.random(3000, 5000))
                        
                        RunService.RenderStepped:Wait()
                        root.Velocity = CurrentVelocity
                    end
                    RunService.Heartbeat:Wait()
                end
            end)
            
            Luna:Notification({Title = "Banana Hub", Content = "Desync Aktywny!"})
        else
            if FakeBody then FakeBody:Destroy() FakeBody = nil end
        end
	end
}, "DesyncFlag")

Tab:CreateButton({
	Name = "Wr√≥ƒá do cia≈Ça",
	Callback = function()
		if FakeBody and LP.Character then
            LP.Character:PivotTo(FakeBody.PrimaryPart.CFrame)
        end
	end
})

-- [[ ZAK≈ÅADKA TROLL ]] --
local TrollTab = Window:CreateTab({
	Name = "Troll Tools",
	Icon = "mood_bad",
	ImageSource = "Material",
	ShowTitle = true
})

TrollTab:CreateSlider({
	Name = "Speed Bypass",
	Range = {16, 200},
	Increment = 1,
	CurrentValue = 16,
	Callback = function(v)
		if LP.Character and LP.Character:FindFirstChild("Humanoid") then
            LP.Character.Humanoid.WalkSpeed = v
        end
	end
}, "SpeedFlag")

TrollTab:CreateToggle({
    Name = "Noclip",
    CurrentValue = false,
    Callback = function(v)
        getgenv().Noclip = v
        RunService.Stepped:Connect(function()
            if getgenv().Noclip and LP.Character then
                for _, p in pairs(LP.Character:GetDescendants()) do
                    if p:IsA("BasePart") then p.CanCollide = false end
                end
            end
        end)
    end
}, "NoclipFlag")

-- Obs≈Çuga respawnu (Twoja logika Net)
LP.CharacterAdded:Connect(function(char)
    char.ChildAdded:Connect(function(child)
        if getgenv().DesyncActive and child:IsA("Script") then 
            task.wait(0.25)
            if child:FindFirstChild("LocalScript") then
                child.LocalScript:FireServer()
            end
        end
    end)
end)

Luna:Notification({
	Title = "Banana Hub Gotowy!",
	Icon = "home",
	ImageSource = "Material",
	Content = "Gra zweryfikowana: Brookhaven."
})
