-- [[ BANANA HUB - NDS DEDICATED VERSION ]] --
local PlaceId = game.PlaceId

-- Sprawdzamy ID gry na samym poczƒÖtku
if PlaceId == 189707 then
    
    -- ≈Åadujemy bibliotekƒô dopiero gdy ID siƒô zgadza
    local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

    local Window = Rayfield:CreateWindow({
       Name = "üçå Banana Hub | NDS Edition",
       LoadingTitle = "≈Åadowanie Banana Hub...",
       LoadingSubtitle = "Tylko dla Natural Disaster Survival",
       ConfigurationSaving = {
          Enabled = true,
          FolderName = "BananaHub_NDS",
          FileName = "NDS_Config"
       },
       KeySystem = false
    })

    local LP = game:GetService("Players").LocalPlayer
    local RunService = game:GetService("RunService")

    -- Zmienne dla funkcji
    local Settings = {
        WalkSpeed = 16,
        AutoFarm = false,
        GodMode = false,
        InfJump = false
    }

    -- [[ BYPASS WALKSPEED ]] --
    local mt = getrawmetatable(game)
    local oldIndex = mt.__index
    setreadonly(mt, false)
    mt.__index = newcclosure(function(t, k)
        if not checkcaller() and t:IsA("Humanoid") and k == "WalkSpeed" then
            return 16
        end
        return oldIndex(t, k)
    end)
    setreadonly(mt, true)

    -- --- ZAK≈ÅADKA 1: G≈Å√ìWNE (Universal wewnƒÖtrz NDS) ---
    local MainTab = Window:CreateTab("G≈Ç√≥wne", nil)
    
    MainTab:CreateSection("Movement & Survival")

    MainTab:CreateSlider({
       Name = "WalkSpeed Bypass",
       Range = {16, 150},
       Increment = 1,
       CurrentValue = 16,
       Callback = function(Value)
            Settings.WalkSpeed = Value
            if LP.Character and LP.Character:FindFirstChild("Humanoid") then
                LP.Character.Humanoid.WalkSpeed = Value
            end
       end,
    })

    MainTab:CreateToggle({
       Name = "Infinite Jump",
       CurrentValue = false,
       Callback = function(Value)
            Settings.InfJump = Value
            game:GetService("UserInputService").JumpRequest:Connect(function()
                if Settings.InfJump and LP.Character:FindFirstChildOfClass("Humanoid") then
                    LP.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
                end
            end)
       end,
    })

    MainTab:CreateToggle({
       Name = "God Mode (No Fall/Water/HP)",
       CurrentValue = false,
       Callback = function(Value)
            Settings.GodMode = Value
            if Value then
                _G.GodLoop = RunService.Stepped:Connect(function()
                    if LP.Character then
                        local hum = LP.Character:FindFirstChildOfClass("Humanoid")
                        if hum then 
                            hum.Health = hum.MaxHealth 
                            if hum:GetState() == Enum.HumanoidStateType.Freefall then
                                hum:ChangeState(Enum.HumanoidStateType.Physics)
                            end
                        end
                        if LP.Character:FindFirstChild("FallDamageScript") then LP.Character.FallDamageScript:Destroy() end
                        local water = workspace:FindFirstChild("WaterLevel")
                        if water then water.CanTouch = false end
                    end
                end)
            else
                if _G.GodLoop then _G.GodLoop:Disconnect() end
            end
       end,
    })

    -- --- ZAK≈ÅADKA 2: NDS OP (10 Funkcji) ---
    local NDSTab = Window:CreateTab("NDS OP", nil)
    
    NDSTab:CreateSection("Auto-Farm & Cheats")

    -- 1. Auto-Farm
    NDSTab:CreateToggle({
        Name = "1. Auto-Win (Hard Anchor)",
        CurrentValue = false,
        Callback = function(Value)
            _G.AutoFarm = Value
            task.spawn(function()
                while _G.AutoFarm do
                    local status = LP.PlayerGui.MainGui.Status.Value
                    if status ~= "" and not status:find("Waiting") then
                        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
                            LP.Character:PivotTo(CFrame.new(-60, 650, 0))
                            LP.Character.HumanoidRootPart.Anchored = true
                        end
                    else
                        if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
                            LP.Character.HumanoidRootPart.Anchored = false
                        end
                        if status:find("Waiting") then
                            LP.Character:PivotTo(CFrame.new(-60, 50, 0))
                        end
                    end
                    task.wait(0.5)
                end
            end)
        end
    })

    -- Pozosta≈Çe funkcje (Predictor, Bright, TP itp.)
    NDSTab:CreateToggle({
        Name = "2. Disaster Predictor",
        CurrentValue = false,
        Callback = function(v)
            _G.Predict = v
            task.spawn(function()
                local last = ""
                while _G.Predict do
                    local s = LP.PlayerGui.MainGui.Status.Value
                    if s ~= "" and s ~= last and not s:find("Waiting") then
                        last = s
                        Rayfield:Notify({Title = "Banana Hub", Content = "Nadchodzi: "..s})
                    end
                    task.wait(1)
                end
            end)
        end
    })

    NDSTab:CreateButton({ Name = "3. Usu≈Ñ Budynki (FPS Boost)", Callback = function() if workspace:FindFirstChild("Structure") then workspace.Structure:Destroy() end end })
    NDSTab:CreateButton({ Name = "4. Full Bright", Callback = function() game:GetService("Lighting").Brightness = 2 game:GetService("Lighting").ClockTime = 14 end })
    NDSTab:CreateButton({ Name = "5. TP na szczyt mapy", Callback = function() 
        local h = 0 local t = nil
        for _,v in pairs(workspace.Structure:GetChildren()) do if v:IsA("BasePart") and v.Position.Y > h then h = v.Position.Y t = v end end
        if t then LP.Character:PivotTo(t.CFrame + Vector3.new(0,5,0)) end
    end })
    NDSTab:CreateButton({ Name = "6. TP do Balonu", Callback = function() 
        local b = workspace:FindFirstChild("GreenBalloon", true)
        if b then LP.Character:PivotTo(b.CFrame) else Rayfield:Notify({Title="B≈ÇƒÖd", Content="Brak balonu"}) end
    end })
    NDSTab:CreateButton({ Name = "7. Usu≈Ñ Mg≈Çƒô/Burzƒô", Callback = function() game:GetService("Lighting"):ClearAllChildren() end })
    NDSTab:CreateToggle({
        Name = "8. Ignoruj Lawƒô/Ogie≈Ñ",
        CurrentValue = false,
        Callback = function(v)
            _G.NoLava = v
            task.spawn(function()
                while _G.NoLava do
                    for _,part in pairs(workspace:GetDescendants()) do
                        if part.Name == "Lava" or part.Name == "Fire" then part.CanTouch = false end
                    end
                    task.wait(2)
                end
            end)
        end
    })
    NDSTab:CreateButton({ Name = "9. Teleport na Wyspƒô", Callback = function() LP.Character:PivotTo(CFrame.new(-60, 50, 0)) end })
    NDSTab:CreateButton({ Name = "10. Szybka Regeneracja", Callback = function() LP.Character.Humanoid.Health = 100 end })

    -- Respawn Fix
    LP.CharacterAdded:Connect(function(char)
        local h = char:WaitForChild("Humanoid")
        task.wait(0.5)
        h.WalkSpeed = Settings.WalkSpeed
    end)

    Rayfield:Notify({Title = "Banana Hub", Content = "Pomy≈õlnie za≈Çadowano modu≈Ç NDS!"})

else
    -- Je≈õli ID gry jest inne ni≈º NDS
    print("laduje inny script.")
end


local PlaceId = game.PlaceId

-- Sprawdzamy ID gry na samym poczƒÖtku
if PlaceId == 3623096087 then
    
local Luna = loadstring(game:HttpGet("https://raw.githubusercontent.com/Nebula-Softworks/Luna-Interface-Suite/refs/heads/master/source.lua", true))()

-- [[ KONFIGURACJA OKNA ]] --
local Window = Luna:CreateWindow({
	Name = "Banana Hub üçå",
	Subtitle = "Muscle Legends Edition",
	LogoID = "nil", -- Mo≈ºesz wkleiƒá ID logo je≈õli masz
	LoadingEnabled = true,
	LoadingTitle = "Banana Hub v5",
	LoadingSubtitle = "by Gemini AI",

	ConfigSettings = {
		ConfigFolder = "BananaHubML"
	},

	KeySystem = false -- Wy≈ÇƒÖczy≈Çem klucz, ≈ºeby≈õ m√≥g≈Ç od razu odpalaƒá
})

-- [[ HOME TAB ]] --
Window:CreateHomeTab({
	SupportedExecutors = {"All"},
	DiscordInvite = "banana", -- Tu mo≈ºesz wpisaƒá sw√≥j discord
	Icon = 1
})

-- [[ ZMIENNE ]] --
local LP = game:GetService("Players").LocalPlayer
local VIM = game:GetService("VirtualInputManager")
getgenv().AutoTrain = false
getgenv().FortressActive = false
getgenv().SavedPos = nil

-- [[ ZAK≈ÅADKA G≈Å√ìWNA ]] --
local Tab = Window:CreateTab({
	Name = "Muscle Legends",
	Icon = "fitness_center", -- Ikona z Material Icons
	ImageSource = "Material",
	ShowTitle = true
})

Tab:CreateSection("Automatyzacja")

-- AUTO TRAIN
local TrainToggle = Tab:CreateToggle({
	Name = "Auto-LPM (Trening)",
	CurrentValue = false,
	Callback = function(Value)
		getgenv().AutoTrain = Value
		if Value then
			task.spawn(function()
				while getgenv().AutoTrain do
					VIM:SendMouseButtonEvent(0, 0, 0, true, game, 0)
					task.wait()
					VIM:SendMouseButtonEvent(0, 0, 0, false, game, 0)
					task.wait(0.12)
				end
			end)
		end
	end
}, "AutoTrainFlag")

Tab:CreateSection("Ochrona AFK")

-- KLATKA + AUTO TELEPORT BACK
local FortressToggle = Tab:CreateToggle({
	Name = "Klatka + Auto-TP Back",
	Description = "Buduje klatkƒô i tepa Ciƒô do niej je≈õli kto≈õ Ciƒô wyrzuci",
	CurrentValue = false,
	Callback = function(Value)
		getgenv().FortressActive = Value
		
		if Value then
			local char = LP.Character
			if not char or not char:FindFirstChild("HumanoidRootPart") then return end
			
			getgenv().SavedPos = char.HumanoidRootPart.CFrame 
			
			local folder = Instance.new("Folder", workspace)
			folder.Name = "BananaFortress"
			
			local function CreateWall(name, cframe, size)
				local wall = Instance.new("Part", folder)
				wall.Name = name
				wall.Size = size or Vector3.new(15, 15, 1)
				wall.Transparency = 0.5
				wall.Color = Color3.fromRGB(255, 255, 0)
				wall.Material = Enum.Material.ForceField
				wall.Anchored = true
				wall.CanCollide = true
				wall.CFrame = cframe
			end

			-- Budowanie klatki
			CreateWall("F", getgenv().SavedPos * CFrame.new(0, 5, -7))
			CreateWall("B", getgenv().SavedPos * CFrame.new(0, 5, 7))
			CreateWall("L", getgenv().SavedPos * CFrame.new(-7, 5, 0) * CFrame.Angles(0, math.rad(90), 0))
			CreateWall("R", getgenv().SavedPos * CFrame.new(7, 5, 0) * CFrame.Angles(0, math.rad(90), 0))
			CreateWall("Roof", getgenv().SavedPos * CFrame.new(0, 12, 0) * CFrame.Angles(math.rad(90), 0, 0), Vector3.new(15, 15, 1))

			-- Pƒôtla Auto-TP
			task.spawn(function()
				while getgenv().FortressActive do
					if LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") then
						local root = LP.Character.HumanoidRootPart
						local dist = (root.Position - getgenv().SavedPos.Position).Magnitude
						if dist > 10 then
							root.CFrame = getgenv().SavedPos
						end
					end
					task.wait(0.1)
				end
				if folder then folder:Destroy() end
			end)
		end
	end
}, "FortressFlag")

Tab:CreateSection("Statystyki")

-- WALK SPEED SLIDER
local SpeedSlider = Tab:CreateSlider({
	Name = "WalkSpeed",
	Range = {16, 500},
	Increment = 5,
	CurrentValue = 16,
	Callback = function(Value)
		if LP.Character and LP.Character:FindFirstChild("Humanoid") then
			LP.Character.Humanoid.WalkSpeed = Value
		end
	end
}, "SpeedFlag")

-- [[ DODATKI ]] --
local ConfigTab = Window:CreateTab({
	Name = "Ustawienia",
	Icon = "settings",
	ImageSource = "Material",
	ShowTitle = true
})

ConfigTab:BuildConfigSection()

-- Anti-AFK
task.spawn(function()
    while true do
        task.wait(300)
        VIM:SendKeyEvent(true, Enum.KeyCode.Space, false, game)
        task.wait(0.1)
        VIM:SendKeyEvent(false, Enum.KeyCode.Space, false, game)
    end
end)

Luna:Notification({
	Title = "Banana Hub Za≈Çadowany!",
	Icon = "check_circle",
	ImageSource = "Material",
	Content = "U≈ºyj klatki, aby bezpiecznie auto-rebirthowaƒá."
})

else
    -- Je≈õli ID gry jest inne ni≈º msc
    print("laduje inny script.")
end
